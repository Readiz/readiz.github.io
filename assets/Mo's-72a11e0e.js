import{p as t}from"./Mo's_-e378698a.js";import{u as c,j as a,a as s,F as m}from"./ssg-client-fe3d39d7.js";import{C as h}from"./Comment-7799e077.js";import{T as r}from"./TagList-252a711f.js";import{H as d}from"./Header-5ea64b81.js";import"./katex.min-4ed993c7.js";import"./index.module-caf545e8.js";function l(n){const e=Object.assign({p:"p",code:"code",h2:"h2",span:"span",math:"math",semantics:"semantics",mrow:"mrow",mi:"mi",annotation:"annotation",msqrt:"msqrt",svg:"svg",path:"path",mo:"mo",mn:"mn",ul:"ul",li:"li",ol:"ol",pre:"pre",h3:"h3",a:"a"},c(),n.components);return s(m,{children:[a(d,{}),`
`,a(e.p,{children:"개인적으로 공부하다가 그 심플함과 발상에 충격먹은 알고리즘 1순위 (2023/07 기준)"}),`
`,s(e.p,{children:[a(e.code,{children:"Mo's Algorithm"}),"을 내가 이해한 순서대로 한번 정리해보고자 한다."]}),`
`,a(e.h2,{id:"bucket-challenge",children:"Bucket Challenge"}),`
`,s(e.p,{children:["난 개인적으로 ",a(e.code,{children:"bucket"}),"을 활용한 풀이를 매우 좋아한다. 알고리즘 명으로는 ",a(e.code,{children:"Sqrt Decomposition"}),"으로 많이 부르는 기법인데, 전체 배열 크기가 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.mi,{children:"N"})}),a(e.annotation,{encoding:"application/x-tex",children:"N"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"0.6833em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"})]})})]})})," 일때, 전체 구간을 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.msqrt,{children:a(e.mi,{children:"N"})})}),a(e.annotation,{encoding:"application/x-tex",children:"\\sqrt N"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.04em",verticalAlign:"-0.1133em"}}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})})]})})]})})," 으로 나누게 되면, 각 ",a(e.code,{children:"bucket"}),"의 크기 또한 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.msqrt,{children:a(e.mi,{children:"N"})})}),a(e.annotation,{encoding:"application/x-tex",children:"\\sqrt N"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.04em",verticalAlign:"-0.1133em"}}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})})]})})]})}),"이 된다. 이렇게 되면, 각 구간마다의 계산값(이를테면 구간마다의 합)을 구하는 데에 최대 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(\\sqrt N)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})})]})}),"의 시간이 걸리게 되는 아름다운 결론에 도달한다."]}),`
`,s(e.p,{children:["예를 들어, 전체 구간 크기가 ",a(e.code,{children:"10000"}),"이면, 각 구간은 ",a(e.code,{children:"100"}),"으로 나눌 수 있고, 이 상태에서 각 구간의 합을 ",a(e.code,{children:"bucket[i/100]"}),"에 미리 계산해 두었다고 하자. 그러면, ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"4"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"303"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[4, 303]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"4"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"303"}),a(e.span,{className:"mclose",children:"]"})]})})]})})," 구간의 합은 미리 계산해둔 값들을 바탕으로 아래처럼 구하면 된다."]}),`
`,s(e.ul,{children:[`
`,a(e.li,{children:"A[4], A[5], A[6], ... A[99]"}),`
`,a(e.li,{children:"bucket[1]  (100 ~ 199의 합이 미리 계산되어 있다)"}),`
`,a(e.li,{children:"bucket[2]  (200 ~ 299의 합이 미리 계산되어 있다)"}),`
`,a(e.li,{children:"A[300], A[301], ... A[303]"}),`
`]}),`
`,s(e.p,{children:["위에서 확인이 가능한 것처럼, bucket 외의 구간을 합해야 하는 수는 worst의 경우에도 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.msqrt,{children:a(e.mi,{children:"N"})})}),a(e.annotation,{encoding:"application/x-tex",children:"\\sqrt N"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.04em",verticalAlign:"-0.1133em"}}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})})]})})]})}),"을 넘지 않는다. 따라서 이런 경우 ",a(e.code,{children:"query"})," 마다의 시간 복잡도는 최대 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(\\sqrt N)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})})]})}),"이 된다고 할 수 있는 것이다."]}),`
`,a(e.h2,{id:"mos-algorithm",children:"Mo's Algorithm"}),`
`,s(e.p,{children:["바로 이러한 루트로 나누는 아이디어를 ",a(e.code,{children:"Offline query"}),"에 적용한 것이 ",a(e.code,{children:"Mo's Algorithm"}),"이다. ",a(e.code,{children:"Offline query"})," 역시 발상이 독특한데, ",a(e.code,{children:"query"}),"를 꼭 입력이 들어온 순서대로 처리하지 않는 것을 말한다. 만약 아래와 같은 ",a(e.code,{children:"query"}),"가 반복된다고 해보자."]}),`
`,s(e.ul,{children:[`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"100"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1, 100]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"100"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1000"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"1300"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1000, 1300]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1000"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"1300"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"2"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"101"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[2, 101]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"101"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1001"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"1301"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1001, 1301]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1001"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"1301"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"3"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"102"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[3, 102]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"3"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"102"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1002"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"1302"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1002, 1302]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1002"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"1302"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`]}),`
`,s(e.p,{children:["딱 봐도 ",a(e.code,{children:"query"}),"를 재배치하고 싶은 욕구가 생길 것이다. 재배치하면 이전에 계산한 값을 활용할 여지가 있기 때문이다. 다만, 재배치를 ",a(e.code,{children:"일반적으로"})," 어떤 순서로 할 것인지가 막막하다. ",a(e.code,{children:"Sqrt Decomposition"}),"까지는 루트를 어떻게 활용할지에 대한 아이디어가 어느 정도 직관으로 찾아지지만, ",a(e.code,{children:"Mo's"})," 정도 되면 쉽지 않다. 재배치 방식에 대해 아래처럼 생각을 해보는 것이 일반적일 것이다."]}),`
`,s(e.ol,{children:[`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mi,{children:"s"}),a(e.mo,{separator:"true",children:","}),a(e.mi,{children:"e"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[s, e]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord mathnormal",children:"s"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord mathnormal",children:"e"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),"에 대해서 ",a(e.code,{children:"s"})," 먼저 정렬하면?",`
`,s(e.ul,{children:[`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"100"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1, 100]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"100"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"10000"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1, 10000]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"10000"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"2"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"100"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[2, 100]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"100"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"2"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"10000"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[2, 10000]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"10000"}),a(e.span,{className:"mclose",children:"]"})]})})]})})," 처럼 질의가 올 수 있다."]}),`
`]}),`
`]}),`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mi,{children:"s"}),a(e.mo,{separator:"true",children:","}),a(e.mi,{children:"e"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[s, e]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord mathnormal",children:"s"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord mathnormal",children:"e"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),"에 대해서 ",a(e.code,{children:"e"})," 먼저 정렬하면?",`
`,s(e.ul,{children:[`
`,a(e.li,{children:"1과 같은 반례가 존재한다."}),`
`]}),`
`]}),`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mi,{children:"s"}),a(e.mo,{separator:"true",children:","}),a(e.mi,{children:"e"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[s, e]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord mathnormal",children:"s"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord mathnormal",children:"e"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),"에 대해서 ",a(e.code,{children:"s"})," 먼저 정렬하고 같으면 ",a(e.code,{children:"e"}),"로 정렬하면?",`
`,s(e.ul,{children:[`
`,a(e.li,{children:"그럴싸 하지만, 전체적으로 비효율이 존재하는 것은 마찬가지이다."}),`
`,a(e.li,{children:"아래 케이스가 여전히 해결이 안된다."}),`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"2"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1, 2]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"10000"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1, 10000]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"10000"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"2"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"3"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[2, 3]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"3"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"2"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"10001"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[2, 10001]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"10001"}),a(e.span,{className:"mclose",children:"]"})]})})]})}),", ..."]}),`
`]}),`
`]}),`
`]}),`
`,s(e.p,{children:["즉, 위처럼 단순 정렬 해서는 어떻게 정렬해도 쉽지 않다. ",a(e.code,{children:"Mo's Algorithm"}),"은 엄청난 발상에서 출발하는데, 바로 한쪽 구간에 루트를 취하는 것이다. 아래와 같은 ",a(e.code,{children:"operator"}),"를 통해 정렬하는 것을 생각해보자."]}),`
`,a(e.pre,{children:a(e.code,{className:"language-cpp",children:`bool operator<(const struct Q& t) const {
    if (e / sqrtN == t.e / sqrtN) return s < t.s;
    return e / sqrtN < t.e / sqrtN;
}
`})}),`
`,s(e.p,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.msqrt,{children:a(e.mi,{children:"e"})})}),a(e.annotation,{encoding:"application/x-tex",children:"\\sqrt e"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.04em",verticalAlign:"-0.2397em"}}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.8003em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{paddingLeft:"0.833em"},children:"e"})]}),s(e.span,{style:{top:"-2.7603em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.2397em"},children:a(e.span,{})})})]})})]})})]})}),"가 같을 때 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.mi,{children:"s"})}),a(e.annotation,{encoding:"application/x-tex",children:"s"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"0.4306em"}}),a(e.span,{className:"mord mathnormal",children:"s"})]})})]})}),"를 활용해 오름차순으로 하고, 다를 때는 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.msqrt,{children:a(e.mi,{children:"e"})})}),a(e.annotation,{encoding:"application/x-tex",children:"\\sqrt e"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.04em",verticalAlign:"-0.2397em"}}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.8003em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{paddingLeft:"0.833em"},children:"e"})]}),s(e.span,{style:{top:"-2.7603em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.2397em"},children:a(e.span,{})})})]})})]})})]})}),"가 오름차순으로 정렬하는 것이다. 이렇게 하면, 처음의 예시가 아래처럼 깔끔하게 떨어진다. (",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"N"}),a(e.mo,{children:"="}),a(e.mn,{children:"10000"})]}),a(e.annotation,{encoding:"application/x-tex",children:"N = 10000"})]})})}),s(e.span,{className:"katex-html","aria-hidden":"true",children:[s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"0.6833em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),a(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),a(e.span,{className:"mrel",children:"="}),a(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"0.6444em"}}),a(e.span,{className:"mord",children:"10000"})]})]})]})}),"을 가정하자)"]}),`
`,s(e.ul,{children:[`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"100"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1, 100]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"100"}),a(e.span,{className:"mclose",children:"]"})]})})]})})," : ",a(e.code,{children:"e"}),"가 ",a(e.code,{children:"bucket"})," 1에 속하므로 제일 먼저 온다."]}),`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"2"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"101"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[2, 101]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"2"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"101"}),a(e.span,{className:"mclose",children:"]"})]})})]})})," : 위와 동일한 ",a(e.code,{children:"bucket"}),"이고, ",a(e.code,{children:"s"}),"의 순서에 따라 정렬되었다."]}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"3"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"102"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[3, 102]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"3"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"102"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,s(e.li,{children:[a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1000"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"1300"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1000, 1300]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1000"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"1300"}),a(e.span,{className:"mclose",children:"]"})]})})]})})," : ",a(e.code,{children:"e"}),"가 ",a(e.code,{children:"bucket"})," 13에 속하므로 1번보다 나중에 온다."]}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1001"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"1301"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1001, 1301]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1001"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"1301"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`,a(e.li,{children:a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mo,{stretchy:"false",children:"["}),a(e.mn,{children:"1002"}),a(e.mo,{separator:"true",children:","}),a(e.mn,{children:"1302"}),a(e.mo,{stretchy:"false",children:"]"})]}),a(e.annotation,{encoding:"application/x-tex",children:"[1002, 1302]"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mopen",children:"["}),a(e.span,{className:"mord",children:"1002"}),a(e.span,{className:"mpunct",children:","}),a(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),a(e.span,{className:"mord",children:"1302"}),a(e.span,{className:"mclose",children:"]"})]})})]})})}),`
`]}),`
`,s(e.p,{children:["직관으로 확인해봐도, ",a(e.code,{children:"query"})," 간 이동할 때 걸리는 시간이 상당히 개선이 될 것이라고 짐작할 수 있다. ",a(e.code,{children:"s"}),"와 ",a(e.code,{children:"e"}),"가 이동하는 전체적인 거리를 생각해보자."]}),`
`,s(e.ol,{children:[`
`,s(e.li,{children:[a(e.code,{children:"e"}),"는 전체적으로는 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mi,{children:"N"}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(N)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),a(e.span,{className:"mclose",children:")"})]})})]})}),", 그리고 ",a(e.code,{children:"query"})," 구간 내에서 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(\\sqrt N)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})})]})})," 만큼 이동 가능하고, ",a(e.code,{children:"query"}),"수가 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.mi,{children:"M"})}),a(e.annotation,{encoding:"application/x-tex",children:"M"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"0.6833em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"M"})]})})]})}),"개라고 하면, 총 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mi,{children:"N"}),a(e.mo,{children:"+"}),a(e.mi,{children:"M"}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(N + M\\sqrt N)"})]})})}),s(e.span,{className:"katex-html","aria-hidden":"true",children:[s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),a(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),a(e.span,{className:"mbin",children:"+"}),a(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"M"}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})]})]})})," 만큼 이동할 수 있다."]}),`
`,s(e.li,{children:[a(e.code,{children:"s"}),"는 ",a(e.code,{children:"e"}),"가 최대 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(\\sqrt N)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})})]})})," 만큼 이동하는 동안 오름차순 정렬되어 있으므로 최대 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[a(e.mrow,{children:a(e.mi,{children:"N"})}),a(e.annotation,{encoding:"application/x-tex",children:"N"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"0.6833em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"})]})})]})}),"만큼 이동가능하다. 즉, 총 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mi,{children:"N"}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(N\\sqrt N)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})})]})})," 만큼 이동할 수 있다."]}),`
`]}),`
`,s(e.p,{children:["1과 2를 둘 다 고려하면 최종적인 시간 복잡도인 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mo,{stretchy:"false",children:"("}),a(e.mi,{children:"N"}),a(e.mo,{children:"+"}),a(e.mi,{children:"M"}),a(e.mo,{stretchy:"false",children:")"}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O((N + M)\\sqrt N)"})]})})}),s(e.span,{className:"katex-html","aria-hidden":"true",children:[s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"(("}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),a(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),a(e.span,{className:"mbin",children:"+"}),a(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"M"}),a(e.span,{className:"mclose",children:")"}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})]})]})}),"이 나온다."]}),`
`,a(e.h2,{id:"time-complexity",children:"Time Complexity"}),`
`,s(e.p,{children:["하나의 ",a(e.code,{children:"query"}),"를 수행하는 데에 걸리는 시간이 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mn,{children:"1"}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(1)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord",children:"1"}),a(e.span,{className:"mclose",children:")"})]})})]})}),"이 걸린다면, 전체적인 시간복잡도는 위에서 살펴본 것처럼 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mo,{stretchy:"false",children:"("}),a(e.mi,{children:"N"}),a(e.mo,{children:"+"}),a(e.mi,{children:"M"}),a(e.mo,{stretchy:"false",children:")"}),a(e.msqrt,{children:a(e.mi,{children:"N"})}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O((N + M)\\sqrt N)"})]})})}),s(e.span,{className:"katex-html","aria-hidden":"true",children:[s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"(("}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"N"}),a(e.span,{className:"mspace",style:{marginRight:"0.2222em"}}),a(e.span,{className:"mbin",children:"+"}),a(e.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1.1767em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"M"}),a(e.span,{className:"mclose",children:")"}),a(e.span,{className:"mord sqrt",children:s(e.span,{className:"vlist-t vlist-t2",children:[s(e.span,{className:"vlist-r",children:[s(e.span,{className:"vlist",style:{height:"0.9267em"},children:[s(e.span,{className:"svg-align",style:{top:"-3em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em",paddingLeft:"0.833em"},children:"N"})]}),s(e.span,{style:{top:"-2.8867em"},children:[a(e.span,{className:"pstrut",style:{height:"3em"}}),a(e.span,{className:"hide-tail",style:{minWidth:"0.853em",height:"1.08em"},children:a(e.svg,{xmlns:"http://www.w3.org/2000/svg",width:"400em",height:"1.08em",viewBox:"0 0 400000 1080",preserveAspectRatio:"xMinYMin slice",children:a(e.path,{d:`M95,702
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l0 -0
c5.3,-9.3,12,-14,20,-14
H400000v40H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M834 80h400000v40h-400000z`})})})]})]}),a(e.span,{className:"vlist-s",children:"​"})]}),a(e.span,{className:"vlist-r",children:a(e.span,{className:"vlist",style:{height:"0.1133em"},children:a(e.span,{})})})]})}),a(e.span,{className:"mclose",children:")"})]})]})]})}),"이 된다. ",a(e.code,{children:"naive"}),"하게 전체 ",a(e.code,{children:"query"}),"를 처리했다면 ",a(e.span,{className:"math math-inline",children:s(e.span,{className:"katex",children:[a(e.span,{className:"katex-mathml",children:a(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:s(e.semantics,{children:[s(e.mrow,{children:[a(e.mi,{children:"O"}),a(e.mo,{stretchy:"false",children:"("}),a(e.mi,{children:"N"}),a(e.mi,{children:"M"}),a(e.mo,{stretchy:"false",children:")"})]}),a(e.annotation,{encoding:"application/x-tex",children:"O(NM)"})]})})}),a(e.span,{className:"katex-html","aria-hidden":"true",children:s(e.span,{className:"base",children:[a(e.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"O"}),a(e.span,{className:"mopen",children:"("}),a(e.span,{className:"mord mathnormal",style:{marginRight:"0.10903em"},children:"NM"}),a(e.span,{className:"mclose",children:")"})]})})]})}),"이 걸렸을 것이므로, 엄청난 개선이 된다고 할 수 있다."]}),`
`,a(e.h3,{id:"참고-링크",children:"참고 링크"}),`
`,s(e.ul,{children:[`
`,s(e.li,{children:["소멤블로그 ",a(e.code,{children:"Mo's Algorithm"})," 소개: ",a(e.a,{href:"https://infossm.github.io/blog/2019/02/09/mo's-algorithm/",children:"https://infossm.github.io/blog/2019/02/09/mo's-algorithm/"})]}),`
`,s(e.li,{children:["백준 ",a(e.code,{children:"수열과 쿼리 5"}),": ",a(e.a,{href:"https://www.acmicpc.net/problem/13547",children:"https://www.acmicpc.net/problem/13547"})]}),`
`]}),`
`,a(r,{}),`
`,a(h,{})]})}function p(n={}){const{wrapper:e}=Object.assign({},c(),n.components);return e?a(e,Object.assign({},n,{children:a(l,n)})):l(n)}const o=Object.freeze(Object.defineProperty({__proto__:null,default:p},Symbol.toStringTag,{value:"Module"})),i={};i.outlineInfo=t;i.main=o;export{i as default};
