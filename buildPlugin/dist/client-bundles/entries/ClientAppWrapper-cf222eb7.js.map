{"version":3,"file":"ClientAppWrapper-cf222eb7.js","sources":["../../../src/client/entries/ClientAppWrapper.tsx"],"sourcesContent":["/// <reference types=\"vite/client\" />\n\n/**\n * This is a common wrapper component for csr.tsx and ssg-client.tsx\n */\n\nimport React, { useState } from 'react'\nimport { HashRouter, BrowserRouter } from 'react-router-dom'\nimport { dataCacheCtx, setDataCacheCtx } from '../ctx'\nimport type { PageLoaded } from '../../../clientTypes'\n\n// @ts-expect-error\nconst Router = __HASH_ROUTER__ ? HashRouter : BrowserRouter\n// @ts-expect-error\nconst basename = __HASH_ROUTER__\n  ? undefined\n  : import.meta.env.BASE_URL?.replace(/\\/$/, '')\n\ninterface Props {\n  readonly initCache?: PageLoaded\n  readonly children: React.ReactNode\n}\n\nconst ClientAppWrapper: React.FC<React.PropsWithChildren<Props>> = ({\n  initCache,\n  children,\n}) => {\n  const [dataCache, setDataCache] = useState<PageLoaded>(initCache ?? {})\n  return (\n    <Router basename={basename}>\n      <dataCacheCtx.Provider value={dataCache}>\n        <setDataCacheCtx.Provider value={setDataCache}>\n          {children}\n        </setDataCacheCtx.Provider>\n      </dataCacheCtx.Provider>\n    </Router>\n  )\n}\n\nexport default ClientAppWrapper\n"],"names":["Router","__HASH_ROUTER__","HashRouter","BrowserRouter","basename","undefined","import","meta","env","BASE_URL","replace","ClientAppWrapper","initCache","children","dataCache","setDataCache","useState","_jsx","dataCacheCtx","Provider","value","setDataCacheCtx"],"mappings":";;;;;AAAA;;AAWA;AACA,MAAMA,MAAM,GAAGC,eAAe,GAAGC,UAAU,GAAGC,aAAa,CAAA;AAC3D;AACA,MAAMC,QAAQ,GAAGH,eAAe,GAC5BI,SAAS,GACTC,MAAM,CAACC,IAAI,CAACC,GAAG,CAACC,QAAQ,EAAEC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;AAO1CC,MAAAA,gBAA0D,GAAGA,CAAC;EAClEC,SAAS;AACTC,EAAAA,QAAAA;AACF,CAAC,KAAK;AACJ,EAAA,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGC,QAAQ,CAAaJ,SAAS,IAAI,EAAE,CAAC,CAAA;EACvE,oBACEK,GAAA,CAACjB,MAAM,EAAA;AAACI,IAAAA,QAAQ,EAAEA,QAAS;AAAAS,IAAAA,QAAA,eACzBI,GAAA,CAACC,YAAY,CAACC,QAAQ,EAAA;AAACC,MAAAA,KAAK,EAAEN,SAAU;AAAAD,MAAAA,QAAA,eACtCI,GAAA,CAACI,eAAe,CAACF,QAAQ,EAAA;AAACC,QAAAA,KAAK,EAAEL,YAAa;AAAAF,QAAAA,QAAA,EAC3CA,QAAAA;OACuB,CAAA;KACL,CAAA;AAAC,GAClB,CAAC,CAAA;AAEb;;;;"}