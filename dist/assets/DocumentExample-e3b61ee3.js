import{p as xe}from"./DocumentExample_-86739e1b.js";import{r as v,R as ft,j as f,a as I,F as U,u as Jt}from"./ssg-client-a80c5483.js";import{C as Me}from"./Comment-1b95fdda.js";import{H as we}from"./Header-29cfbdbf.js";import{T as Ee}from"./TagList-ad427ae6.js";import"./index.module-caf545e8.js";const ke="/assets/2023-04-28-11-36-03-2debf89c.png";var Se="Invariant failed";function B(n,t){if(!n)throw new Error(Se)}function Te(n,t){var e=v.useRef(null),s=v.useRef(null);s.current=t;var i=v.useRef(null);v.useEffect(function(){r()});var r=v.useCallback(function(){var o=i.current,l=s.current,h=o||(l?l instanceof Element?l:l.current:null);e.current&&e.current.element===h&&e.current.subscriber===n||(e.current&&e.current.cleanup&&e.current.cleanup(),e.current={element:h,subscriber:n,cleanup:h?n(h):void 0})},[n]);return v.useEffect(function(){return function(){e.current&&e.current.cleanup&&(e.current.cleanup(),e.current=null)}},[]),v.useCallback(function(o){i.current=o,r()},[r])}function Ot(n,t,e){return n[t]?n[t][0]?n[t][0][e]:n[t][e]:t==="contentBoxSize"?n.contentRect[e==="inlineSize"?"width":"height"]:void 0}function Ce(n){n===void 0&&(n={});var t=n.onResize,e=v.useRef(void 0);e.current=t;var s=n.round||Math.round,i=v.useRef(),r=v.useState({width:void 0,height:void 0}),o=r[0],l=r[1],h=v.useRef(!1);v.useEffect(function(){return h.current=!1,function(){h.current=!0}},[]);var d=v.useRef({width:void 0,height:void 0}),u=Te(v.useCallback(function(g){return(!i.current||i.current.box!==n.box||i.current.round!==s)&&(i.current={box:n.box,round:s,instance:new ResizeObserver(function(_){var k=_[0],M=n.box==="border-box"?"borderBoxSize":n.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",p=Ot(k,M,"inlineSize"),y=Ot(k,M,"blockSize"),w=p?s(p):void 0,S=y?s(y):void 0;if(d.current.width!==w||d.current.height!==S){var C={width:w,height:S};d.current.width=w,d.current.height=S,e.current?e.current(C):h.current||l(C)}})}),i.current.instance.observe(g,{box:n.box}),function(){i.current&&i.current.instance.unobserve(g)}},[n.box,s]),n.ref);return v.useMemo(function(){return{ref:u,width:o.width,height:o.height}},[u,o.width,o.height])}function Ie(n,t,e){return Math.max(t,Math.min(n,e))}const A={toVector(n,t){return n===void 0&&(n=t),Array.isArray(n)?n:[n,n]},add(n,t){return[n[0]+t[0],n[1]+t[1]]},sub(n,t){return[n[0]-t[0],n[1]-t[1]]},addTo(n,t){n[0]+=t[0],n[1]+=t[1]},subTo(n,t){n[0]-=t[0],n[1]-=t[1]}};function At(n,t,e){return t===0||Math.abs(t)===1/0?Math.pow(n,e*5):n*t*e/(t+e*n)}function Pt(n,t,e,s=.15){return s===0?Ie(n,t,e):n<t?-At(t-n,e-t,s)+t:n>e?+At(n-e,e-t,s)+e:n}function De(n,[t,e],[s,i]){const[[r,o],[l,h]]=n;return[Pt(t,r,o,s),Pt(e,l,h,i)]}function Oe(n,t){if(typeof n!="object"||n===null)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var s=e.call(n,t||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ae(n){var t=Oe(n,"string");return typeof t=="symbol"?t:String(t)}function $(n,t,e){return t=Ae(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Rt(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),e.push.apply(e,s)}return e}function R(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Rt(Object(e),!0).forEach(function(s){$(n,s,e[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Rt(Object(e)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(e,s))})}return n}const Zt={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Lt(n){return n?n[0].toUpperCase()+n.slice(1):""}const Pe=["enter","leave"];function Re(n=!1,t){return n&&!Pe.includes(t)}function Le(n,t="",e=!1){const s=Zt[n],i=s&&s[t]||t;return"on"+Lt(n)+Lt(i)+(Re(e,i)?"Capture":"")}const $e=["gotpointercapture","lostpointercapture"];function Ne(n){let t=n.substring(2).toLowerCase();const e=!!~t.indexOf("passive");e&&(t=t.replace("passive",""));const s=$e.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(s);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:e}}function Ke(n,t=""){const e=Zt[n],s=e&&e[t]||t;return n+s}function lt(n){return"touches"in n}function Qt(n){return lt(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function Ve(n){return Array.from(n.touches).filter(t=>{var e,s;return t.target===n.currentTarget||((e=n.currentTarget)===null||e===void 0||(s=e.contains)===null||s===void 0?void 0:s.call(e,t.target))})}function je(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function te(n){return lt(n)?je(n)[0]:n}function dt(n,t){try{const e=t.clientX-n.clientX,s=t.clientY-n.clientY,i=(t.clientX+n.clientX)/2,r=(t.clientY+n.clientY)/2,o=Math.hypot(e,s);return{angle:-(Math.atan2(e,s)*180)/Math.PI,distance:o,origin:[i,r]}}catch{}return null}function Ye(n){return Ve(n).map(t=>t.identifier)}function $t(n,t){const[e,s]=Array.from(n.touches).filter(i=>t.includes(i.identifier));return dt(e,s)}function ht(n){const t=te(n);return lt(n)?t.identifier:t.pointerId}function Q(n){const t=te(n);return[t.clientX,t.clientY]}const Nt=40,Kt=800;function ee(n){let{deltaX:t,deltaY:e,deltaMode:s}=n;return s===1?(t*=Nt,e*=Nt):s===2&&(t*=Kt,e*=Kt),[t,e]}function Xe(n){var t,e;const{scrollX:s,scrollY:i,scrollLeft:r,scrollTop:o}=n.currentTarget;return[(t=s??r)!==null&&t!==void 0?t:0,(e=i??o)!==null&&e!==void 0?e:0]}function He(n){const t={};if("buttons"in n&&(t.buttons=n.buttons),"shiftKey"in n){const{shiftKey:e,altKey:s,metaKey:i,ctrlKey:r}=n;Object.assign(t,{shiftKey:e,altKey:s,metaKey:i,ctrlKey:r})}return t}function at(n,...t){return typeof n=="function"?n(...t):n}function Ue(){}function Be(...n){return n.length===0?Ue:n.length===1?n[0]:function(){let t;for(const e of n)t=e.apply(this,arguments)||t;return t}}function Vt(n,t){return Object.assign({},t,n||{})}const We=32;class ne{constructor(t,e,s){this.ctrl=t,this.args=e,this.key=s,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:s,args:i}=this;e[s]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,s=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=s.from?at(s.from,e):e.offset,e.offset=e.lastOffset,e.startTime=e.timeStamp=t.timeStamp)}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:s,shared:i}=this;e.args=this.args;let r=0;if(t&&(e.event=t,s.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,He(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,r=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const c=e._delta.map(Math.abs);A.addTo(e._distance,c)}this.axisIntent&&this.axisIntent(t);const[o,l]=e._movement,[h,d]=s.threshold,{_step:u,values:g}=e;if(s.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=h&&g[0]),u[1]===!1&&(u[1]=Math.abs(l)>=d&&g[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=h&&Math.sign(o)*h),u[1]===!1&&(u[1]=Math.abs(l)>=d&&Math.sign(l)*d)),e.intentional=u[0]!==!1||u[1]!==!1,!e.intentional)return;const _=[0,0];if(s.hasCustomTransform){const[c,m]=g;_[0]=u[0]!==!1?c-u[0]:0,_[1]=u[1]!==!1?m-u[1]:0}else _[0]=u[0]!==!1?o-u[0]:0,_[1]=u[1]!==!1?l-u[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(_);const k=e.offset,M=e._active&&!e._blocked||e.active;M&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=i[this.ingKey]=e._active,t&&(e.first&&("bounds"in s&&(e._bounds=at(s.bounds,e)),this.setup&&this.setup()),e.movement=_,this.computeOffset()));const[p,y]=e.offset,[[w,S],[C,E]]=e._bounds;e.overflow=[p<w?-1:p>S?1:0,y<C?-1:y>E?1:0],e._movementBound[0]=e.overflow[0]?e._movementBound[0]===!1?e._movement[0]:e._movementBound[0]:!1,e._movementBound[1]=e.overflow[1]?e._movementBound[1]===!1?e._movement[1]:e._movementBound[1]:!1;const a=e._active?s.rubberband||[0,0]:[0,0];if(e.offset=De(e._bounds,e.offset,a),e.delta=A.sub(e.offset,k),this.computeMovement(),M&&(!e.last||r>We)){e.delta=A.sub(e.offset,k);const c=e.delta.map(Math.abs);A.addTo(e.distance,c),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&r>0&&(e.velocity=[c[0]/r,c[1]/r],e.timeDelta=r)}}emit(){const t=this.state,e=this.shared,s=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!s.triggerAllEvents)return;const i=this.handler(R(R(R({},e),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function Ge([n,t],e){const s=Math.abs(n),i=Math.abs(t);if(s>i&&s>e)return"x";if(i>s&&i>e)return"y"}class st extends ne{constructor(...t){super(...t),$(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=A.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=A.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const e=this.state,s=this.config;if(!e.axis&&t){const i=typeof s.axisThreshold=="object"?s.axisThreshold[Qt(t)]:s.axisThreshold;e.axis=Ge(e._movement,i)}e._blocked=(s.lockDirection||!!s.axis)&&!e.axis||!!s.axis&&s.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const ze=n=>n,jt=.15,se={enabled(n=!0){return n},eventOptions(n,t,e){return R(R({},e.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[jt,jt];case!1:return[0,0];default:return A.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return A.toVector(n)},transform(n,t,e){const s=n||e.shared.transform;return this.hasCustomTransform=!!s,s||ze},threshold(n){return A.toVector(n,0)}},qe=0,q=R(R({},se),{},{axis(n,t,{axis:e}){if(this.lockDirection=e==="lock",!this.lockDirection)return e},axisThreshold(n=qe){return n},bounds(n={}){if(typeof n=="function")return r=>q.bounds(n(r));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:t=-1/0,right:e=1/0,top:s=-1/0,bottom:i=1/0}=n;return[[t,e],[s,i]]}}),Yt={ArrowRight:(n,t=1)=>[n*t,0],ArrowLeft:(n,t=1)=>[-1*n*t,0],ArrowUp:(n,t=1)=>[0,-1*n*t],ArrowDown:(n,t=1)=>[0,n*t]};class Fe extends st{constructor(...t){super(...t),$(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),s=t.currentTarget.getBoundingClientRect(),i={left:e.left-s.left+t.offset[0],right:e.right-s.right+t.offset[0],top:e.top-s.top+t.offset[1],bottom:e.bottom-s.bottom+t.offset[1]};t._bounds=q.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,s=this.state;if(t.buttons!=null&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):e.pointerButtons!==-1&&e.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&s._pointerActive)&&(this.start(t),this.setupPointer(t),s._pointerId=ht(t),s._pointerActive=!0,this.computeValues(Q(t)),this.computeInitial(),e.preventScrollAxis&&Qt(t)!=="mouse"?(s._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,s=this.config;if(!e._pointerActive||e.type===t.type&&t.timeStamp===e.timeStamp)return;const i=ht(t);if(e._pointerId!==void 0&&i!==e._pointerId)return;const r=Q(t);if(document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=A.sub(r,e._values),this.computeValues(r)),A.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional){this.timeoutStore.remove("dragDelay"),e.active=!1,this.startPointerDrag(t);return}if(s.preventScrollAxis&&!e._preventScroll)if(e.axis)if(e.axis===s.preventScrollAxis||s.preventScrollAxis==="xy"){e._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const e=this.state,s=this.config;if(!e._active||!e._pointerActive)return;const i=ht(t);if(e._pointerId!==void 0&&i!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[r,o]=e._distance;if(e.tap=r<=s.tapsThreshold&&o<=s.tapsThreshold,e.tap&&s.filterTaps)e._force=!0;else{const[l,h]=e._delta,[d,u]=e._movement,[g,_]=s.swipe.velocity,[k,M]=s.swipe.distance,p=s.swipe.duration;if(e.elapsedTime<p){const y=Math.abs(l/e.timeDelta),w=Math.abs(h/e.timeDelta);y>g&&Math.abs(d)>k&&(e.swipe[0]=Math.sign(l)),w>_&&Math.abs(u)>M&&(e.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config,s=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,s,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,s,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,Je(t);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const e=Yt[t.key];if(e){const s=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),s._delta=e(this.config.keyboardDisplacement,i),s._keyboardActive=!0,A.addTo(s._movement,s._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Yt&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Je(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const it=typeof window<"u"&&window.document&&window.document.createElement;function Ze(){return it&&"ontouchstart"in window}function Xt(){return Ze()||it&&window.navigator.maxTouchPoints>1}function Qe(){return it&&"onpointerdown"in window}function tn(){return it&&"exitPointerLock"in window.document}function en(){try{return"constructor"in GestureEvent}catch{return!1}}const X={isBrowser:it,gesture:en(),touch:Xt(),touchscreen:Xt(),pointer:Qe(),pointerLock:tn()},nn=250,sn=180,rn=.5,on=50,an=250,cn=10,Ht={mouse:0,touch:0,pen:8},ln=R(R({},q),{},{device(n,t,{pointer:{touch:e=!1,lock:s=!1,mouse:i=!1}={}}){return this.pointerLock=s&&X.pointerLock,X.touch&&e?"touch":this.pointerLock?"mouse":X.pointer&&!i?"pointer":X.touch?"touch":"mouse"},preventScrollAxis(n,t,{preventScroll:e}){if(this.preventScrollDelay=typeof e=="number"?e:e||e===void 0&&n?nn:void 0,!(!X.touchscreen||e===!1))return n||(e!==void 0?"y":void 0)},pointerCapture(n,t,{pointer:{capture:e=!0,buttons:s=1,keys:i=!0}={}}){return this.pointerButtons=s,this.keys=i,!this.pointerLock&&this.device==="pointer"&&e},threshold(n,t,{filterTaps:e=!1,tapsThreshold:s=3,axis:i=void 0}){const r=A.toVector(n,e?s:i?1:0);return this.filterTaps=e,this.tapsThreshold=s,r},swipe({velocity:n=rn,distance:t=on,duration:e=an}={}){return{velocity:this.transform(A.toVector(n)),distance:this.transform(A.toVector(t)),duration:e}},delay(n=0){switch(n){case!0:return sn;case!1:return 0;default:return n}},axisThreshold(n){return n?R(R({},Ht),n):Ht},keyboardDisplacement(n=cn){return n}});function ie(n){const[t,e]=n.overflow,[s,i]=n._delta,[r,o]=n._direction;(t<0&&s>0&&r<0||t>0&&s<0&&r>0)&&(n._movement[0]=n._movementBound[0]),(e<0&&i>0&&o<0||e>0&&i<0&&o>0)&&(n._movement[1]=n._movementBound[1])}const un=30,fn=100;class hn extends ne{constructor(...t){super(...t),$(this,"ingKey","pinching"),$(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:e,lastOffset:s}=this.state;t==="wheel"?this.state.offset=A.add(e,s):this.state.offset=[(1+e[0])*s[0],e[1]+s[1]]}computeMovement(){const{offset:t,lastOffset:e}=this.state;this.state.movement=[t[0]/e[0],t[1]-e[1]]}axisIntent(){const t=this.state,[e,s]=t._movement;if(!t.axis){const i=Math.abs(e)*un-Math.abs(s);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const e=this.state,s=this.ctrl.touchIds;if(e._active&&e._touchIds.every(r=>s.has(r))||s.size<2)return;this.start(t),e._touchIds=Array.from(s).slice(0,2);const i=$t(t,e._touchIds);i&&this.pinchStart(t,i)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const e=this.state,s=e._pointerEvents,i=this.ctrl.pointerIds;if(e._active&&Array.from(s.keys()).every(o=>i.has(o))||(s.size<2&&s.set(t.pointerId,t),e._pointerEvents.size<2))return;this.start(t);const r=dt(...Array.from(s.values()));r&&this.pinchStart(t,r)}pinchStart(t,e){const s=this.state;s.origin=e.origin,this.computeValues([e.distance,e.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const e=$t(t,this.state._touchIds);e&&this.pinchMove(t,e)}pointerMove(t){const e=this.state._pointerEvents;if(e.has(t.pointerId)&&e.set(t.pointerId,t),!this.state._active)return;const s=dt(...Array.from(e.values()));s&&this.pinchMove(t,s)}pinchMove(t,e){const s=this.state,i=s._values[1],r=e.angle-i;let o=0;Math.abs(r)>270&&(o+=Math.sign(r)),this.computeValues([e.distance,e.angle-360*o]),s.origin=e.origin,s.turns=o,s._movement=[s._values[0]/s._initial[0]-1,s._values[1]-s._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(e=>!this.ctrl.touchIds.has(e))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const e=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}e._pointerEvents.has(t.pointerId)&&e._pointerEvents.delete(t.pointerId),e._active&&e._pointerEvents.size<2&&(e._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const e=this.state;e._active||(this.start(t),this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const e=this.state;this.computeValues([t.scale,t.rotation]),e.origin=[t.clientX,t.clientY];const s=e._movement;e._movement=[t.scale-1,t.rotation],e._delta=A.sub(e._movement,s),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const e=this.config.modifierKey;e&&!t[e]||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const s=this.state;s._delta=[-ee(t)[1]/fn*s.offset[0],0],A.addTo(s._movement,s._delta),ie(s),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const e=this.config.device;e&&(t(e,"start",this[e+"Start"].bind(this)),t(e,"change",this[e+"Move"].bind(this)),t(e,"end",this[e+"End"].bind(this)),t(e,"cancel",this[e+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const dn=R(R({},se),{},{device(n,t,{shared:e,pointer:{touch:s=!1}={}}){if(e.target&&!X.touch&&X.gesture)return"gesture";if(X.touch&&s)return"touch";if(X.touchscreen){if(X.pointer)return"pointer";if(X.touch)return"touch"}},bounds(n,t,{scaleBounds:e={},angleBounds:s={}}){const i=o=>{const l=Vt(at(e,o),{min:-1/0,max:1/0});return[l.min,l.max]},r=o=>{const l=Vt(at(s,o),{min:-1/0,max:1/0});return[l.min,l.max]};return typeof e!="function"&&typeof s!="function"?[i(),r()]:o=>[i(o),r(o)]},threshold(n,t,e){return this.lockDirection=e.axis==="lock",A.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});class pn extends st{constructor(...t){super(...t),$(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Q(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const e=Q(t),s=this.state;s._delta=A.sub(e,s._values),A.addTo(s._movement,s._delta),this.computeValues(e),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const mn=R(R({},q),{},{mouseOnly:(n=!0)=>n});class gn extends st{constructor(...t){super(...t),$(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const e=this.state,s=Xe(t);e._delta=A.sub(s,e._values),A.addTo(e._movement,e._delta),this.computeValues(s),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const yn=q;class _n extends st{constructor(...t){super(...t),$(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const e=this.state;e._delta=ee(t),A.addTo(e._movement,e._delta),ie(e),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const bn=q;class vn extends st{constructor(...t){super(...t),$(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Q(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const e=this.state;if(!e._active)return;e._active=!1;const s=Q(t);e._movement=e._delta=A.sub(s,e._values),this.computeValues(s),this.compute(t),e.delta=e.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const xn=R(R({},q),{},{mouseOnly:(n=!0)=>n}),gt=new Map,pt=new Map;function Mn(n){gt.set(n.key,n.engine),pt.set(n.key,n.resolver)}const wn={key:"drag",engine:Fe,resolver:ln},En={key:"hover",engine:vn,resolver:xn},kn={key:"move",engine:pn,resolver:mn},Sn={key:"pinch",engine:hn,resolver:dn},Tn={key:"scroll",engine:gn,resolver:yn},Cn={key:"wheel",engine:_n,resolver:bn};function In(n,t){if(n==null)return{};var e={},s=Object.keys(n),i,r;for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(e[i]=n[i]);return e}function Dn(n,t){if(n==null)return{};var e=In(n,t),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(n,s)&&(e[s]=n[s])}return e}const On={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=X.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:t=!1}={}){return{passive:n,capture:t}},transform(n){return n}},An=["target","eventOptions","window","enabled","transform"];function ot(n={},t){const e={};for(const[s,i]of Object.entries(t))switch(typeof i){case"function":e[s]=i.call(e,n[s],s,n);break;case"object":e[s]=ot(n[s],i);break;case"boolean":i&&(e[s]=n[s]);break}return e}function Pn(n,t,e={}){const s=n,{target:i,eventOptions:r,window:o,enabled:l,transform:h}=s,d=Dn(s,An);if(e.shared=ot({target:i,eventOptions:r,window:o,enabled:l,transform:h},On),t){const u=pt.get(t);e[t]=ot(R({shared:e.shared},d),u)}else for(const u in d){const g=pt.get(u);g&&(e[u]=ot(R({shared:e.shared},d[u]),g))}return e}class re{constructor(t,e){$(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,s,i,r){const o=this._listeners,l=Ke(e,s),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=R(R({},h),r);t.addEventListener(l,i,d);const u=()=>{t.removeEventListener(l,i,d),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Rn{constructor(){$(this,"_timeouts",new Map)}add(t,e,s=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(e,s,...i))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Ln{constructor(t){$(this,"gestures",new Set),$(this,"_targetEventStore",new re(this)),$(this,"gestureEventStores",{}),$(this,"gestureTimeoutStores",{}),$(this,"handlers",{}),$(this,"config",{}),$(this,"pointerIds",new Set),$(this,"touchIds",new Set),$(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),$n(this,t)}setEventIds(t){if(lt(t))return this.touchIds=new Set(Ye(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=Pn(t,e,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,s={};let i;if(!(e.target&&(i=e.target(),!i))){if(e.enabled){for(const o of this.gestures){const l=this.config[o],h=Ut(s,l.eventOptions,!!i);if(l.enabled){const d=gt.get(o);new d(this,t,o).bind(h)}}const r=Ut(s,e.eventOptions,!!i);for(const o in this.nativeHandlers)r(o,"",l=>this.nativeHandlers[o](R(R({},this.state.shared),{},{event:l,args:t})),void 0,!0)}for(const r in s)s[r]=Be(...s[r]);if(!i)return s;for(const r in s){const{device:o,capture:l,passive:h}=Ne(r);this._targetEventStore.add(i,o,"",s[r],{capture:l,passive:h})}}}}function J(n,t){n.gestures.add(t),n.gestureEventStores[t]=new re(n,t),n.gestureTimeoutStores[t]=new Rn}function $n(n,t){t.drag&&J(n,"drag"),t.wheel&&J(n,"wheel"),t.scroll&&J(n,"scroll"),t.move&&J(n,"move"),t.pinch&&J(n,"pinch"),t.hover&&J(n,"hover")}const Ut=(n,t,e)=>(s,i,r,o={},l=!1)=>{var h,d;const u=(h=o.capture)!==null&&h!==void 0?h:t.capture,g=(d=o.passive)!==null&&d!==void 0?d:t.passive;let _=l?s:Le(s,i,u);e&&g&&(_+="Passive"),n[_]=n[_]||[],n[_].push(r)},Nn=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Kn(n){const t={},e={},s=new Set;for(let i in n)Nn.test(i)?(s.add(RegExp.lastMatch),e[i]=n[i]):t[i]=n[i];return[e,t,s]}function Z(n,t,e,s,i,r){if(!n.has(e)||!gt.has(s))return;const o=e+"Start",l=e+"End",h=d=>{let u;return d.first&&o in t&&t[o](d),e in t&&(u=t[e](d)),d.last&&l in t&&t[l](d),u};i[s]=h,r[s]=r[s]||{}}function Vn(n,t){const[e,s,i]=Kn(n),r={};return Z(i,e,"onDrag","drag",r,t),Z(i,e,"onWheel","wheel",r,t),Z(i,e,"onScroll","scroll",r,t),Z(i,e,"onPinch","pinch",r,t),Z(i,e,"onMove","move",r,t),Z(i,e,"onHover","hover",r,t),{handlers:r,config:t,nativeHandlers:s}}function jn(n,t={},e,s){const i=ft.useMemo(()=>new Ln(n),[]);if(i.applyHandlers(n,s),i.applyConfig(t,e),ft.useEffect(i.effect.bind(i)),ft.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function Yn(n){return n.forEach(Mn),function(e,s){const{handlers:i,nativeHandlers:r,config:o}=Vn(e,s||{});return jn(i,o,void 0,r)}}function Xn(n,t){return Yn([wn,Sn,Tn,Cn,kn,En])(n,t||{})}var yt=v.createContext(null);yt.displayName="CoordinateContext";function Hn(){const n=v.useContext(yt);return B(n),n}var Un=yt;function rt(n,t=0){const e=Math.pow(10,t||0);return Math.round(n*e)/e}function tt(n,t,e=1){const s=[];for(let r=n;r<t-e/2;r+=e)s.push(r);const i=s[s.length-1]+e;return Math.abs(t-i)<e/1e-6?s.push(t):s.push(i),s}function oe(n,t,e){return Math.min(Math.max(n,t),e)}var{round:Bt,ceil:Wt,floor:Gt,log2:zt}=Math,_t=v.createContext({xPanes:[],yPanes:[],xPaneRange:[0,0],yPaneRange:[0,0]});_t.displayName="PaneContext";function W(){return v.useContext(_t)}function ae({children:n}){const{xMin:t,xMax:e,yMin:s,yMax:i}=Hn(),r=2**Bt(zt(e-t)-1),o=2**Bt(zt(i-s)-1),l=1/8,h=r*Gt(t/r-l),d=r*Wt(e/r+l),u=o*Gt(s/o-l),g=o*Wt(i/o+l),_=v.useMemo(()=>tt(h,d-r,r).map(p=>[p,p+r]),[h,d,r]),k=v.useMemo(()=>tt(u,g-o,o).map(p=>[p,p+o]),[u,g,o]),M=v.useMemo(()=>({xPanes:_,yPanes:k,xPaneRange:[h,d],yPaneRange:[u,g]}),[_,k,h,d,u,g]);return f(_t.Provider,{value:M,children:n})}ae.displayName="PaneManager";var Bn=ae,b;(n=>{function t(a,c){return[a[0]+c[0],a[1]+c[1]]}n.add=t;function e(a,c){return[a[0]-c[0],a[1]-c[1]]}n.sub=e;function s(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}n.mag=s;function i(a){return[-a[1],a[0]]}n.normal=i;function r(a,c,m){const T=e(c,a),x=s(T);return t(a,o(T,m*x))}n.lerp=r;function o(a,c){const m=s(a);return h(a,c/m)}n.withMag=o;function l(a){return o(a,1)}n.normalize=l;function h(a,c){return[a[0]*c,a[1]*c]}n.scale=h;function d(a,c){return[a[0]*c[0]+a[1]*c[1]+c[2],a[0]*c[3]+a[1]*c[4]+c[5]]}n.transform=d;function u(a,c){return z(a[0]*c[0]+a[1]*c[3],a[3]*c[0]+a[4]*c[3],a[0]*c[1]+a[1]*c[4],a[3]*c[1]+a[4]*c[4],a[0]*c[2]+a[1]*c[5]+a[2],a[3]*c[2]+a[4]*c[5]+a[5])}n.matrixMult=u;function g(a,c){const m=Math.cos(c),T=Math.sin(c);return[a[0]*m-a[1]*T,a[0]*T+a[1]*m]}n.rotate=g;function _(a,c,m){const T=e(a,c);return t(c,g(T,m))}n.rotateAbout=_;function k(a,c){return r(a,c,.5)}n.midpoint=k;function M(a,c){return Math.sqrt(p(a,c))}n.dist=M;function p(a,c){return Math.pow(c[0]-a[0],2)+Math.pow(c[1]-a[1],2)}n.squareDist=p;function y(a,c){return a[0]*c[0]+a[1]*c[1]}n.dot=y;function w(a){return a[0]*a[4]-a[3]*a[1]}n.det=w;function S(a){const c=w(a);if(!c)return null;const m=1/c,T=a[0],x=a[1],D=a[2],N=a[3],j=a[4],V=a[5];return z(m*j,m*-N,m*-x,m*T,m*(V*x-D*j),m*(-V*T+D*N))}n.matrixInvert=S;function C(a=null){const c=a||z();return{mult:m=>C(u(m,c)),translate:(m,T)=>C(u(z(1,0,0,1,m,T),c)),rotate:m=>{const T=Math.cos(m),x=Math.sin(m);return C(u(z(T,x,-x,T),c))},scale:(m,T)=>C(u(z(m,0,0,T),c)),shear:(m,T)=>C(u(z(1,T,m,1),c)),get:()=>[...c]}}n.matrixBuilder=C;function E(a){const[c,m,T,x,D,N]=a;return`matrix(${c}, ${x}, ${m}, ${D}, ${T}, ${N})`}n.toCSS=E,n.identity=C().get()})(b||(b={}));function z(n=1,t=0,e=0,s=1,i=0,r=0){return[n,e,i,t,s,r]}var bt=v.createContext(null);bt.displayName="TransformContext";function et(){const n=v.useContext(bt);return B(n),n}var ce=v.createContext({xSpan:0,ySpan:0});ce.displayName="SpanContext";function Wn({minZoom:n,maxZoom:t}){const[e,s]=v.useState(b.identity),i=v.useRef(b.identity);return{matrix:e,setBase(){i.current=e},move({zoom:r,pan:o}){const l=1/((r==null?void 0:r.scale)??1),h=(r==null?void 0:r.at)??[0,0],d=i.current[0],u=1/t/d,g=1/n/d,_=oe(l,u,g),k=b.matrixBuilder(i.current).translate(...b.scale(h,-1)).scale(_,_).translate(...b.scale(h,1)).translate(...o??[0,0]).get();s(k)}}}function Gn(n){const[t,e]=v.useState(!1),s=v.useRef(0);return v.useEffect(()=>{if(!n)return;function i(){e(!1),clearTimeout(s.current),s.current=setTimeout(()=>{e(!0)},500)}return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[n]),{wheelEnabled:n?t:!1,handleMouseMove(){e(!0)}}}var le=v.createContext({overrideHeight:void 0});le.Provider;function ue({width:n="auto",height:t=500,pan:e=!0,zoom:s=!1,viewBox:i={x:[-3,3],y:[-3,3]},preserveAspectRatio:r="contain",children:o,ssr:l=!1,onClick:h=void 0}){var St,Tt,Ct,It;const u=v.useContext(le).overrideHeight??t,[g,_]=v.useState(!!l),k=n==="auto"?"100%":`${n}px`,M=v.useRef(null),{width:p=l?500:1}=Ce({ref:M});v.useEffect(()=>{_(!0)},[]);let y=1,w=1;typeof s=="object"?(B(s.min>0&&s.min<=1),B(s.max>=1),y=s.min,w=s.max):s&&(y=.5,w=5);const S=Wn({minZoom:y,maxZoom:w}),C=(i==null?void 0:i.padding)??.5;let E=(((St=i==null?void 0:i.x)==null?void 0:St[0])??0)-C,a=(((Tt=i==null?void 0:i.x)==null?void 0:Tt[1])??0)+C,c=(((Ct=i==null?void 0:i.y)==null?void 0:Ct[0])??0)-C,m=(((It=i==null?void 0:i.y)==null?void 0:It[1])??0)+C;if(r==="contain"){const O=p/u;if((a-E)/(m-c)>O){const P=(m+c)/2,Y=(a-E)/O/2;c=P-Y,m=P+Y}else{const P=(a+E)/2,Y=(m-c)*O/2;E=P-Y,a=P+Y}}[E,c]=b.transform([E,c],S.matrix),[a,m]=b.transform([a,m],S.matrix);const T=a-E,x=m-c,D=v.useMemo(()=>{const O=rt(1/T*p,5),K=rt(-1/x*u,5);return b.matrixBuilder().scale(O,K).get()},[u,p,T,x]),N=rt(E/(a-E)*p,10),j=rt(m/(c-m)*u,10),V=b.matrixInvert(D),L=v.useRef([0,0]),F=v.useRef([0,0]);function Et(O){const K=M.current;B(K),B(V);const P=K.getBoundingClientRect();return b.transform([O[0]-P.left+N,O[1]-P.top+j],V)}const kt=Gn(!!s),ut=v.useRef(!1);Xn({onDrag:({movement:O,first:K,event:P,type:Y,pinching:H,memo:G=[0,0],last:_e})=>{if(H)return O;K&&S.setBase();const[be,ve]=b.sub(O,G);S.move({pan:[-be/p*T,ve/u*x]});const Dt=Y.includes("key");return Dt&&(P==null||P.preventDefault()),_e&&(ut.current=!0,setTimeout(()=>ut.current=!1,10)),!Dt&&K?O:G},onPinch:({first:O,movement:[K],origin:P,event:Y,last:H})=>{if(!Y.currentTarget||!V)return;O&&(S.setBase(),L.current=P,F.current=e?Et(P):[(E+a)/2,(c+m)/2]);let G=[0,0];e&&(G=b.transform(b.sub(P,L.current),V)),S.move({zoom:{at:F.current,scale:K},pan:b.scale(G,-1)}),H&&S.setBase()},onWheel:({pinching:O,event:K,delta:[,P]})=>{if(O)return;const Y=2/(1+Math.exp(-P/300)),H=Et([K.clientX,K.clientY]);S.setBase(),S.move({zoom:{at:H,scale:1/Y}})},onKeyDown:({event:O})=>{if(O.metaKey)return;const K={Equal:1,Minus:-1}[O.code]??0;if(!K)return;let P=.1;(O.altKey||O.metaKey)&&(P=.01),O.shiftKey&&(P=.3);const Y=1+K*P,H=[(a+E)/2,(m+c)/2];S.setBase(),S.move({zoom:{at:H,scale:Y}})},onMouseMove:()=>{kt.handleMouseMove()},onClick:({event:O})=>{if(!h||!M.current||ut.current)return;const K=M.current.getBoundingClientRect(),P=O.clientX-K.left,Y=K.bottom-O.clientY,H=P/p*T+E,G=Y/u*x+c;h([H,G],O)}},{drag:{enabled:e,eventOptions:{passive:!1},threshold:1},pinch:{enabled:!!s,eventOptions:{passive:!1}},wheel:{enabled:kt.wheelEnabled,preventDefault:!0,eventOptions:{passive:!1}},target:M});const ge=b.toCSS(D),ye=v.useMemo(()=>({xMin:E,xMax:a,yMin:c,yMax:m,height:u,width:p}),[E,a,c,m,u,p]);return f("div",{className:"MafsView",style:{width:k},tabIndex:e||s?0:-1,ref:M,children:f(Un.Provider,{value:ye,children:f(ce.Provider,{value:{xSpan:T,ySpan:x},children:f(bt.Provider,{value:{userTransform:b.identity,viewTransform:D},children:f(Bn,{children:f("svg",{width:p,height:u,viewBox:`${N} ${j} ${p} ${u}`,preserveAspectRatio:"xMidYMin",style:{width:k,touchAction:e?"none":"auto","--mafs-view-transform":ge,"--mafs-user-transform":"translate(0, 0)"},children:g&&o})})})})})})}ue.displayName="Mafs";var mt=n=>I(U,{children:[n,n<0&&f("tspan",{visibility:"hidden",children:"-"})]}),ct={axis:!0,lines:1,labels:mt};function vt({separation:n,labelMaker:t}){const{viewTransform:e}=et(),{xPanes:s}=W();return f("g",{className:"mafs-axis",children:s.map(([i,r])=>f("g",{children:he(i,r,n).filter(o=>Math.abs(o)>n/1e6).map(o=>f("text",{x:b.transform([o,0],e)[0],y:5,dominantBaseline:"hanging",textAnchor:"middle",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:t(o)},o))},`${i},${r}`))})}vt.displayName="CartesianCoordinates.XLabels";function xt({separation:n,labelMaker:t}){const{viewTransform:e}=et(),{yPanes:s}=W();return f("g",{className:"mafs-axis",children:s.map(([i,r])=>f("g",{children:he(i,r,n).filter(o=>Math.abs(o)>n/1e6).map(o=>f("text",{x:5,y:b.transform([0,o],e)[1],dominantBaseline:"central",style:{fill:"var(--mafs-origin-color)",paintOrder:"stroke"},children:t(o)},o))},`${i},${r}`))})}xt.displayName="CartesianCoordinates.YLabels";var zn=0;function fe({xAxis:n,yAxis:t,subdivisions:e=!1}){const s=n!==!1,i=t!==!1,r={subdivisions:e,...ct,...n},o={subdivisions:e,...ct,...t},l=`cartesian-${zn++}`,{viewTransform:h}=et(),{xPaneRange:d,yPaneRange:u}=W(),[g,_]=d,[k,M]=u,[p,y]=b.transform([g,k],h),[w,S]=b.transform([_,M],h),C=r.lines||1,E=o.lines||1,[a,c]=b.transform([C,-E],h),m=r.subdivisions||1,T=o.subdivisions||1,x=a/m,D=c/T;return I("g",{fill:"none",children:[I("pattern",{x:0,y:0,width:a,height:c,id:l,patternUnits:"userSpaceOnUse",children:[f("pattern",{width:x,height:D,id:`${l}-subdivision`,patternUnits:"userSpaceOnUse",children:I("g",{stroke:"var(--grid-line-subdivision-color)",children:[s!==!1&&m>1&&I(U,{children:[f("line",{x1:0,y1:0,x2:0,y2:D}),f("line",{x1:x,y1:0,x2:x,y2:D})]}),i!==!1&&T>1&&I(U,{children:[f("line",{x1:0,y1:0,x2:x,y2:0}),f("line",{x1:0,y1:D,x2:x,y2:D})]})]})}),f("rect",{width:a,height:c,fill:`url(#${l}-subdivision)`}),I("g",{stroke:"var(--mafs-line-color)",children:[i&&r.lines&&I(U,{children:[f("line",{x1:0,y1:0,x2:a,y2:0}),f("line",{x1:0,y1:c,x2:a,y2:c})]}),s&&o.lines&&I(U,{children:[f("line",{x1:0,y1:0,x2:0,y2:c}),f("line",{x1:a,y1:0,x2:a,y2:c})]})]})]}),f("rect",{x:p,y:S,width:w-p,height:y-S,fill:`url(#${l})`}),I("g",{stroke:"var(--mafs-origin-color)",children:[s&&r.axis&&f("line",{x1:p,y1:0,x2:w,y2:0}),i&&o.axis&&f("line",{x1:0,y1:y,x2:0,y2:S})]}),I("g",{className:"mafs-shadow",children:[s&&r.labels&&f(vt,{separation:r.lines||1,labelMaker:r.labels}),i&&o.labels&&f(xt,{separation:o.lines||1,labelMaker:o.labels})]})]})}function he(n,t,e){const s=Math.floor(n/e)*e,i=Math.ceil(t/e)*e;return s===i-e?[s]:tt(s,i-e,e)}var qn=tt(0,2*Math.PI,Math.PI/12);function de({xAxis:n,yAxis:t,lines:e=1,subdivisions:s}){const i=n!==!1,r=t!==!1,o={...ct,...n},l={...ct,...t},{viewTransform:h}=et(),{xPaneRange:d,yPaneRange:u}=W(),[g,_]=d,[k,M]=u,p=[b.mag([g,k]),b.mag([g,M]),b.mag([_,k]),b.mag([_,M]),b.mag([(g+_)/2,(k+M)/2])],y=e,S=Math.min(...p)<Math.max(_-g,M-k)?0:Math.min(...p),C=Math.max(...p),E=Math.floor(S/y)*y,a=Math.ceil(C/y)*y,[c,m]=b.transform([g,k],h),[T,x]=b.transform([_,M],h),[D,N]=b.transform([1,-1],h),j=tt(E,a,y),V=s!=null?tt(E,a,y/s):[];return I("g",{fill:"none",children:[f("g",{stroke:"var(--grid-line-subdivision-color)",children:qn.map(L=>f("line",{x1:0,y1:0,x2:Math.cos(L)*a*D,y2:-Math.sin(L)*a*N},L))}),V.map(L=>f("ellipse",{"data-r":L,cx:0,cy:0,rx:L*D,ry:L*N,stroke:"var(--grid-line-subdivision-color)"},L)),j.map(L=>f("ellipse",{"data-r":L,cx:0,cy:0,rx:L*D,ry:L*N,stroke:"var(--mafs-line-color)"},L)),I("g",{stroke:"var(--mafs-origin-color)",children:[i&&o.axis&&f("line",{x1:c,y1:0,x2:T,y2:0}),r&&l.axis&&f("line",{x1:0,y1:m,x2:0,y2:x})]}),I("g",{className:"mafs-shadow",children:[i&&o.labels&&f(vt,{separation:(n==null?void 0:n.lines)||e||1,labelMaker:o.labels||mt}),r&&l.labels&&f(xt,{separation:(t==null?void 0:t.lines)||e||1,labelMaker:l.labels||mt})]})]})}de.displayName="Coordinates.Polar";fe.displayName="Coordinates.Cartesian";var Fn={Cartesian:fe,Polar:de};function pe({domain:n,minDepth:t,maxDepth:e,threshold:s,fn:i,error:r,onPoint:o,midpoint:l}){const[h,d]=n;function u(g,_,k,M,p,y,w){const C=g+(_-g)*.5,E=i(C);if(p<t){u(g,C,!0,!1,p+1,y,E),u(C,_,!1,!0,p+1,E,w);return}if(p<e){const a=l(y,w);if(r(E,a)>s){u(g,C,!0,!1,p+1,y,E),u(C,_,!1,!0,p+1,E,w);return}}k&&o(g,y),o(C,E),M&&o(_,w)}u(h,d,!0,!0,0,i(h),i(d))}function Jn(n,t,e,s,i){let r="M ";return pe({fn:n,error:(o,l)=>b.squareDist(o,l),onPoint:(o,[l,h])=>{Number.isFinite(l)&&Number.isFinite(h)&&(r+=`${l} ${h} L `)},midpoint:(o,l)=>b.midpoint(o,l),domain:t,minDepth:e,maxDepth:s,threshold:i}),r.substring(0,r.length-2)}function Zn(n,t,e,s,i,r,o){const l={fill:"",upper:"",lower:""};let h="",d="",u=!1,g=0,_=0,k=0;function M(p,y){return n==="x"?`${p} ${y}`:`${y} ${p}`}return pe({domain:s,minDepth:i,maxDepth:r,threshold:o,fn:p=>[[p,e(p)],[p,t(p)]],error:([p,y],[w,S])=>Math.max(b.squareDist(p,w),b.squareDist(y,S)),midpoint:([p,y],[w,S])=>[b.midpoint(p,w),b.midpoint(y,S)],onPoint:(p,[[,y],[,w]])=>{const S=w<y&&!u,C=w>y&&u;if(S){if(u=!0,h&&d){const E=(g+p)/2,a=(_+w)/2,c=(k+y)/2,m=(a+c)/2;h+=` ${M(E,m)} L `,d=` ${M(E,m)} L `+d,l.fill+=` M ${h} ${d.substring(0,d.length-2)} z `,l.upper+=` M ${h.substring(0,h.length-2)} `,l.lower+=` M ${d.substring(0,d.length-2)} `,h="",d=""}}else if(C){u=!1;const E=(g+p)/2,a=(_+w)/2,c=(k+y)/2,m=(a+c)/2;h+=` ${M(E,m)} L `,d=` ${M(E,m)} L `+d}u||(Number.isFinite(w)&&(h=h+` ${M(p,w)} L `),Number.isFinite(y)&&(d=` ${M(p,y)} L `+d)),g=p,_=w,k=y}}),h&&d&&(l.fill+=` M ${h} ${d.substring(0,d.length-2)} z `,l.lower+=` M ${d.substring(0,d.length-2)} `,l.upper+=` M ${h.substring(0,h.length-2)} `),l}function Mt({xy:n,t,color:e,style:s="solid",weight:i=2,opacity:r=1,maxSamplingDepth:o=14,minSamplingDepth:l=8,svgPathProps:h={}}){const{viewTransform:d}=et(),u=-b.det(d),[g,_]=t,k=.1/u,M=v.useMemo(()=>Jn(n,[g,_],l,o,k),[n,l,o,k,g,_]);return f("path",{d:M,strokeWidth:i,fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:s==="dashed"?"1,10":void 0,...h,style:{stroke:e||"var(--mafs-fg)",strokeOpacity:r,vectorEffect:"non-scaling-stroke",transform:"var(--mafs-view-transform)",...h.style||{}}})}function Qn({y:n,...t}){const{xPaneRange:[e,s]}=W(),i=v.useCallback(o=>[o,n(o)],[n]),r=v.useMemo(()=>[e,s],[e,s]);return f(Mt,{xy:i,t:r,...t})}function ts({x:n,...t}){const{yPaneRange:[e,s]}=W(),i=v.useCallback(o=>[n(o),o],[n]),r=v.useMemo(()=>[e,s],[e,s]);return f(Mt,{xy:i,t:r,...t})}var wt={foreground:"var(--mafs-fg)",background:"var(--mafs-bg)",red:"var(--mafs-red)",orange:"var(--mafs-orange)",green:"var(--mafs-green)",blue:"var(--mafs-blue)",indigo:"var(--mafs-indigo)",violet:"var(--mafs-violet)",pink:"var(--mafs-pink)",yellow:"var(--mafs-yellow)"},qt=()=>1;function es({xy:n,step:t=1,xyOpacity:e=qt,opacityStep:s=e===qt?1:.2,color:i=wt.foreground}){const{viewTransform:r}=et(),{xPanes:o,yPanes:l}=W();s=Math.min(1,Math.max(.01,s));const h=Math.ceil(1/s),d=ns(h);function u(g,_,k,M){for(let p=Math.floor(g);p<=Math.ceil(_);p+=t)for(let y=Math.floor(k);y<=Math.ceil(M);y+=t){const w=[p,y],S=n([p,y]),C=b.mag(S),E=b.scale(b.normalize(S),Math.min(C,t*.75)),a=b.add(w,E),c=b.transform(w,r),m=b.transform(E,r),T=b.mag(m),x=b.transform(a,r),D=b.scale(b.normalize(m),Math.min(T,5)),N=b.add(x,b.rotate(D,5/6*Math.PI)),j=b.add(x,b.rotate(D,-(5/6)*Math.PI)),V=e([p,y]),L=ss(d,V);L.d+=` M ${c[0]} ${c[1]} L ${x[0]} ${x[1]}  L ${N[0]} ${N[1]}  L ${j[0]} ${j[1]}  L ${x[0]} ${x[1]} `}}for(const[g,_]of o)for(const[k,M]of l)u(g,_,k,M);return f(U,{children:d.map((g,_)=>f("path",{d:g.d,style:{stroke:i,fill:i,opacity:g.opacity,fillOpacity:g.opacity,strokeOpacity:g.opacity},strokeLinecap:"round",strokeLinejoin:"round"},_))})}function ns(n){const t=[],e=1/n;for(let s=1;s>0;s-=e){const i={d:"",opacity:s};t.push(i)}return t}function ss(n,t){t=oe(t,0,1);const e=n.length-1-Math.round(t*(n.length-1));return n[e]}function is({x:n,y:t,color:e=wt.foreground,weight:s=2,strokeColor:i=e,strokeOpacity:r=1,fillColor:o=e,fillOpacity:l=.15,minSamplingDepth:h=10,maxSamplingDepth:d=14,upperColor:u=i,upperOpacity:g=r,upperWeight:_=s,lowerColor:k=i,lowerOpacity:M=r,lowerWeight:p=s,svgUpperPathProps:y={},svgLowerPathProps:w={},svgFillPathProps:S={}}){const{xPaneRange:[C,E],yPaneRange:[a,c]}=W(),m=t?[C,E]:[a,c],T=t?[a,c]:[C,E],x=t||n;B(x&&n===void 0!=(t===void 0)),B((x["<"]===void 0||x["<="]===void 0)&&(x[">"]===void 0||x[">="]===void 0));let D=0;"<="in x&&(D=1),"<"in x&&(D=2);let N=0;">="in x&&(N=1),">"in x&&(N=2);let j=x["<"]??x["<="]??(()=>T[1]),V=x[">"]??x[">="]??(()=>T[0]);if(typeof j=="number"){const F=j;j=()=>F}if(typeof V=="number"){const F=V;V=()=>F}const L=Zn(t?"x":"y",j,V,m,h,d,.1);return I("g",{children:[f("path",{d:L.fill,style:{fill:o||"var(--mafs-fg)",fillOpacity:l,stroke:"none",transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...S==null?void 0:S.style},...S}),D!=0&&f("path",{d:L.upper,strokeWidth:_,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:D===2?"4,8":"",style:{fill:"none",stroke:u,strokeOpacity:g,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...y==null?void 0:y.style},...y}),N!=0&&f("path",{d:L.lower,strokeWidth:p,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:N===2?"4,8":"",style:{fill:"none",stroke:k,strokeOpacity:M,transform:"var(--mafs-view-transform)",vectorEffect:"non-scaling-stroke",...w==null?void 0:w.style},...w})]})}var nt={OfX:Qn,OfY:ts,Parametric:Mt,VectorField:es,Inequality:is};nt.OfX.displayName="Plot.OfX";nt.OfY.displayName="Plot.OfY";nt.Parametric.displayName="Plot.Parametric";nt.VectorField.displayName="Plot.VectorField";nt.Inequality.displayName="Plot.Inequality";const rs=n=>f(U,{children:I(ue,{children:[f(Fn.Cartesian,{}),f(nt.OfX,{y:Math.sin,color:wt.blue})]})});function Ft(n){const t=Object.assign({h1:"h1",p:"p",img:"img",h2:"h2",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li",input:"input"},Jt(),n.components);return I(U,{children:[f(t.h1,{id:"연습-페이지",children:"연습 페이지"}),`
`,f(t.p,{children:"React 등 여러 기술 연습 공간입니다."}),`
`,f(t.p,{children:"의미없는 멘트나 컴포넌트들이 노출될 수 있습니다."}),`
`,f(t.p,{children:f(t.img,{alt:"",src:ke})}),`
`,f(we,{}),`
`,f(Ee,{}),`
`,f(t.h2,{id:"table",children:"Table"}),`
`,I(t.table,{children:[f(t.thead,{children:I(t.tr,{children:[f(t.th,{children:"a"}),f(t.th,{align:"left",children:"b"}),f(t.th,{align:"right",children:"c"}),f(t.th,{align:"center",children:"d"})]})}),I(t.tbody,{children:[I(t.tr,{children:[f(t.td,{children:"a"}),f(t.td,{align:"left",children:"b"}),f(t.td,{align:"right",children:"c"}),f(t.td,{align:"center",children:"d"})]}),I(t.tr,{children:[f(t.td,{children:"a"}),f(t.td,{align:"left",children:"b"}),f(t.td,{align:"right",children:"c"}),f(t.td,{align:"center",children:"d"})]}),I(t.tr,{children:[f(t.td,{children:"a"}),f(t.td,{align:"left",children:"b"}),f(t.td,{align:"right",children:"c"}),f(t.td,{align:"center",children:"d"})]}),I(t.tr,{children:[f(t.td,{children:"a"}),f(t.td,{align:"left",children:"b"}),f(t.td,{align:"right",children:"c"}),f(t.td,{align:"center",children:"d"})]})]})]}),`
`,f(t.h2,{id:"tasklist",children:"Tasklist"}),`
`,I(t.ul,{className:"contains-task-list",children:[`
`,I(t.li,{className:"task-list-item",children:[f(t.input,{type:"checkbox",disabled:!0})," ","to do"]}),`
`,I(t.li,{className:"task-list-item",children:[f(t.input,{type:"checkbox",checked:!0,disabled:!0})," ","done"]}),`
`]}),`
`,f(t.h2,{id:"math",children:"Math"}),`
`,f(rs,{}),`
`,f(Me,{})]})}function os(n={}){const{wrapper:t}=Object.assign({},Jt(),n.components);return t?f(t,Object.assign({},n,{children:f(Ft,n)})):Ft(n)}const as=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"})),me={};me.outlineInfo=xe;me.main=as;export{me as default};
